<main class="layer-demo">
	<div class="layer-demo__controls">
		<p class="layer-demo__label">Layer toggles</p>
		<label><input type="checkbox" data-layer="1" checked /> Tight shadow</label>
		<label><input type="checkbox" data-layer="2" checked /> Soft shadow</label>
		<label><input type="checkbox" data-layer="3" checked /> Bloom shadow</label>
	</div>

	<div class="layer-demo__grid">
		<div class="layer-demo__card layer-demo__card--single">Single shadow</div>
		<div class="layer-demo__card layer-demo__card--layered">Layered shadow</div>
	</div>
</main>

<script is:inline>
	const demo = document.querySelector('.layer-demo');
	const layered = demo.querySelector('.layer-demo__card--layered');
	const toggles = demo.querySelectorAll('input[type="checkbox"]');

	const layers = {
		1: '0 2px 4px hsl(220deg 20% 20% / 0.18)',
		2: '0 8px 14px hsl(220deg 25% 20% / 0.14)',
		3: '0 20px 32px hsl(220deg 30% 20% / 0.12)',
	};

	const update = () => {
		toggles.forEach((toggle) => {
			const key = toggle.dataset.layer;
			const value = toggle.checked ? layers[key] : '0 0 0 transparent';
			layered.style.setProperty(`--layer-${key}`, value);
		});
	};

	toggles.forEach((toggle) => toggle.addEventListener('change', update));
	update();
</script>

<style>
	.layer-demo {
		background: white;
		padding: 1rem 1rem 2rem;
		display: grid;
		gap: 1rem;
		max-width: 100%;
		color: black;
	}
	.layer-demo__controls {
		display: grid;
		gap: 0.3rem;
		font-size: 0.9rem;
	}
	.layer-demo__label {
		margin: 0 0 0.3rem;
		font-weight: 600;
	}
	.layer-demo__grid {
		display: grid;
		gap: 1rem;
		grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
	}
	.layer-demo__card {
		padding: 1.5rem 1rem;
		border-radius: 12px;
		background: hsl(0deg 0% 100%);
		text-align: center;
	}
	.layer-demo__card--single {
		box-shadow: 0 10px 24px hsl(220deg 15% 15% / 0.16);
	}
	.layer-demo__card--layered {
		box-shadow: var(--layer-1), var(--layer-2), var(--layer-3);
	}
	p {
		margin: 0;
	}
</style>
